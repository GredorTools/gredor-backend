quarkus:
  management:
    enabled: true
  # Ladda in konfiguration med secrets
  config:
    locations: file:${GREDOR_SECRETS_CONFIG_PATH}  # Ska vara en yaml-fil
  # Databas
  datasource:
    db-kind: sqlite
    jdbc:
      url: jdbc:sqlite:${GREDOR_DATABASE_PATH}?busy_timeout=10000
      max-size: 1  # Viktigt med SQLite att inte ha flera anslutningar samtidigt
  flyway:
    migrate-at-start: true
  hibernate-orm:
    schema-management:
      strategy: validate
  # HTTP-serverinst채llningar
  http:
    cors:
      enabled: true
      methods: GET,POST
  # Autentisering mot andra API:er
  tls:
    bolagsverket:
      key-store:
        p12:
          path: ${gredor.secrets.cert-bolagsverket.path}  # Ska vara en PKCS#12-fil
          password: ${gredor.secrets.cert-bolagsverket.password}
  rest-client:
    hamtaArsredovisningsinformation_1_4_yaml:
      tls-configuration-name: bolagsverket
    lamnaInArsredovisning_2_1_yaml:
      tls-configuration-name: bolagsverket
  # Generering av klasser fr책n Bolagsverkets OpenAPI-scheman
  openapi-generator:
    codegen:
      spec:
        hamtaArsredovisningsinformation_1_4_yaml:
          use-dynamic-url: true
        lamnaInArsredovisning_2_1_yaml:
          use-dynamic-url: true
  # Generering av OpenAPI-schema fr책n egna klasser
  smallrye-openapi:
    servers:
      - http://localhost:8080
      - https://api.acc.test.gredor.se
      - https://api.gredor.se
  # Docker-inst채llningar
  container-image:
    build: true
    registry: ghcr.io
    group: gredortools
    name: gredor-backend
    tag: latest
  jib:
    ports: 8080

gredor:
  bankid:
    client-identifier: gredor-backend
    cert:
      path: ${gredor.secrets.cert-bankid.path}  # Ska vara en PKCS#12-fil
      password: ${gredor.secrets.cert-bankid.password}
  bolagsverket:
    hamta-arsredovisningsinformation:
      version: v1.4
    lamna-in-arsredovisning:
      version: v2.1
